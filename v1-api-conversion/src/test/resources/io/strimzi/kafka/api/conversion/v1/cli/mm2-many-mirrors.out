---
apiVersion: kafka.strimzi.io/v1
kind: KafkaMirrorMaker2
metadata:
  name: my-mirror-maker-2
spec:
  version: 4.1.0
  replicas: 3
  target:
    alias: my-target-cluster
    bootstrapServers: my-target-cluster-kafka-bootstrap:9093
    groupId: mirrormaker2-cluster
    configStorageTopic: mirrormaker2-cluster-configs
    statusStorageTopic: mirrormaker2-cluster-status
    offsetStorageTopic: mirrormaker2-cluster-offsets
    tls:
      trustedCertificates:
      - secretName: my-target-cluster-cluster-ca-cert
        certificate: ca.crt
    config:
      config.storage.replication.factor: 1
      offset.storage.replication.factor: 1
      status.storage.replication.factor: 1
  mirrors:
  - source:
      alias: my-source-cluster
      bootstrapServers: my-source-cluster-kafka-bootstrap:9093
      tls:
        trustedCertificates:
        - secretName: my-source-cluster-cluster-ca-cert
          certificate: ca.crt
    sourceConnector:
      config:
        replication.factor: 1
        offset-syncs.topic.replication.factor: 1
        sync.topic.acls.enabled: "false"
    checkpointConnector:
      config:
        checkpoints.topic.replication.factor: 1
    topicsExcludePattern: .*
    groupsExcludePattern: .*
  - source:
      alias: my-source2-cluster
      bootstrapServers: my-source2-cluster-kafka-bootstrap:9093
      tls:
        trustedCertificates:
        - secretName: my-source2-cluster-cluster-ca-cert
          certificate: ca.crt
    sourceConnector:
      config:
        replication.factor: 1
        offset-syncs.topic.replication.factor: 1
        sync.topic.acls.enabled: "false"
    checkpointConnector:
      config:
        checkpoints.topic.replication.factor: 1
    topicsExcludePattern: .*
    groupsExcludePattern: .*
  template: {}